"use client";

import Image from "next/image";
import * as yup from "yup";
import { useFormik } from "formik";
import cx from "classnames";
import Link from "next/link";

import horizontalLineIcon from "../components/horizontal-line.svg";
import keyIcon from "../components/password-key.svg";

export default function Login() {
  const basicSchema = yup.object().shape({
    name: yup.string().required("Это обязательное поле"),
    password: yup.string().required("Это обязательное поле"),
  });

  const { values, errors, touched, isSubmitting, handleChange, handleSubmit } =
    useFormik({
      initialValues: {
        name: "",
        password: "",
      },
      onSubmit: (values) => {
        console.log(values);
      },
      validationSchema: basicSchema,
    });

  return (
    <div className="bg-gray-500 pb-20">
      <div className="text-4xl text-white py-8 flex justify-center">юнит</div>
      <form
        onSubmit={handleSubmit}
        className="max-w-lg w-full bg-white mx-auto rounded-2xl px-12 pb-12"
      >
        <div className="flex justify-center py-8 text-3xl">
          Добро пожаловать!
        </div>
        <div className="relative">
          <svg
            className="absolute top-1/2 -translate-y-1/2 ml-4 pointer-events-none"
            width="22"
            height="22"
            viewBox="0 0 22 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M1.03332 20.7645L1.20333 20.723L1.03332 20.7645C1.06394 20.8899 1.11853 21.0082 1.19415 21.112C1.26978 21.2159 1.365 21.3035 1.47446 21.3692C1.58394 21.4349 1.70532 21.4774 1.83145 21.4938C1.95759 21.5102 2.08558 21.5002 2.20778 21.4644C2.32994 21.4286 2.44356 21.3678 2.54203 21.2861C2.63987 21.2048 2.72075 21.1045 2.78029 20.9913C4.56474 17.7874 7.71253 15.8812 11.199 15.8812C14.6854 15.8812 17.8332 17.7874 19.6176 20.9913C19.6772 21.1046 19.7581 21.2049 19.8559 21.2861C19.9544 21.3678 20.068 21.4286 20.1901 21.4644C20.3123 21.5002 20.4403 21.5102 20.5665 21.4938C20.6926 21.4774 20.814 21.4349 20.9234 21.3692C21.0329 21.3035 21.1281 21.2159 21.2038 21.112C21.2794 21.0082 21.334 20.8899 21.3646 20.7645C21.3952 20.639 21.4013 20.5085 21.3826 20.3806C21.364 20.2535 21.3213 20.1312 21.2565 20.0209C19.8327 17.4634 17.6688 15.5956 15.134 14.6436C16.3273 13.8193 17.2544 12.6381 17.7906 11.2536C18.3707 9.75583 18.4616 8.10194 18.0496 6.54553C17.6376 4.98907 16.7451 3.61494 15.5078 2.63493C14.2703 1.65482 12.7566 1.12334 11.199 1.12334C9.64134 1.12334 8.1276 1.65482 6.89014 2.63493C5.65281 3.61494 4.76031 4.98907 4.34831 6.54553C3.93633 8.10194 4.02723 9.75583 4.60728 11.2536C5.14345 12.6381 6.07054 13.8193 7.26378 14.6435C4.72899 15.5947 2.56519 17.4625 1.14139 20.0209C1.07665 20.1312 1.03386 20.2535 1.01527 20.3806C0.99657 20.5085 1.00269 20.639 1.03332 20.7645ZM5.98417 8.50364C5.98417 7.42881 6.29085 6.37864 6.86472 5.48597C7.43854 4.59336 8.25344 3.89871 9.20557 3.4888C10.1576 3.07892 11.2048 2.9718 12.215 3.18065C13.2253 3.38952 14.1542 3.90525 14.884 4.66375C15.6138 5.42233 16.1116 6.38962 16.3133 7.44364C16.515 8.49768 16.4114 9.59015 16.0159 10.5826C15.6204 11.5751 14.9511 12.4223 14.0935 13.0178C13.2362 13.6132 12.2289 13.9306 11.1992 13.9306C9.81873 13.9291 8.49384 13.3585 7.5156 12.3418C6.53717 11.3248 5.9857 9.94461 5.98417 8.50364Z"
              fill="#8C8C8C"
              stroke="#8C8C8C"
              stroke-width="0.35"
            />
          </svg>
          <input
            className="border border-neutral-300 rounded-2xl bg-neutral-200 py-4 w-full pl-12"
            type="text"
            id="name"
            placeholder="Логин"
            onChange={handleChange}
            value={values.name}
          />
        </div>
        <div className="relative">
          <svg
            className="absolute top-1/2 ml-4 pointer-events-none"
            width="21"
            height="21"
            viewBox="0 0 21 21"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              id="Vector"
              d="M19.2126 2.85553L19.9237 2.15481C20.1123 1.96632 20.2182 1.71066 20.2182 1.44409C20.2182 1.17751 20.1123 0.921855 19.9237 0.733358C19.7351 0.544861 19.4793 0.438965 19.2126 0.438965C18.9459 0.438965 18.6901 0.544861 18.5015 0.733358L17.0993 2.1448L14.2649 4.97771L7.94519 11.2842C6.90963 10.6013 5.65733 10.327 4.43093 10.5143C3.20454 10.7016 2.09137 11.3372 1.30713 12.2981C0.522885 13.2589 0.123403 14.4764 0.186088 15.7149C0.248774 16.9533 0.769163 18.1243 1.64642 19.0011C2.52368 19.8779 3.69535 20.398 4.9344 20.4607C6.17344 20.5233 7.39165 20.1241 8.35297 19.3402C9.31428 18.5564 9.95027 17.4438 10.1377 16.2181C10.3251 14.9923 10.0506 13.7406 9.36738 12.7056L14.966 7.09988L17.0893 9.23207C17.1827 9.32474 17.2934 9.39813 17.4152 9.44803C17.5369 9.49794 17.6673 9.52339 17.7989 9.52292C17.9305 9.52246 18.0607 9.49609 18.1822 9.44533C18.3036 9.39456 18.4138 9.3204 18.5065 9.22706C18.5992 9.13373 18.6726 9.02305 18.7226 8.90136C18.7725 8.77966 18.798 8.64933 18.7975 8.5178C18.797 8.38627 18.7706 8.25612 18.7199 8.13478C18.6691 8.01344 18.5949 7.90329 18.5015 7.81061L16.3782 5.68844L17.8004 4.27699L18.5015 4.97771C18.5942 5.07104 18.7044 5.14521 18.8258 5.19597C18.9472 5.24674 19.0774 5.2731 19.209 5.27357C19.3406 5.27403 19.471 5.24859 19.5928 5.19868C19.7146 5.14878 19.8253 5.07539 19.9187 4.98271C20.0121 4.89004 20.0863 4.77988 20.137 4.65854C20.1878 4.5372 20.2142 4.40705 20.2147 4.27552C20.2151 4.14399 20.1897 4.01366 20.1398 3.89197C20.0898 3.77027 20.0164 3.6596 19.9237 3.56626L19.2126 2.85553ZM5.19094 18.4615C4.59668 18.4615 4.01576 18.2854 3.52165 17.9554C3.02754 17.6254 2.64243 17.1564 2.41501 16.6077C2.1876 16.0589 2.1281 15.4551 2.24403 14.8726C2.35997 14.29 2.64613 13.7549 3.06634 13.335C3.48654 12.915 4.02192 12.6289 4.60476 12.5131C5.1876 12.3972 5.79174 12.4567 6.34076 12.684C6.88979 12.9113 7.35905 13.2962 7.6892 13.79C8.01936 14.2839 8.19557 14.8645 8.19557 15.4584C8.19557 16.2549 7.87902 17.0188 7.31554 17.5819C6.75206 18.1451 5.98782 18.4615 5.19094 18.4615Z"
              fill="#8C8C8C"
            />
          </svg>
          <input
            className="border border-neutral-300 rounded-2xl bg-neutral-200 py-4 w-full pl-12 mt-6"
            type="text"
            id="password"
            placeholder="Пароль"
            onChange={handleChange}
            value={values.password}
          />
        </div>
        {!isSubmitting ? (
          <button
            typeof="submit"
            className="bg-black rounded-full text-white w-full py-4 my-12"
          >
            Войти
          </button>
        ) : (
          <button disabled typeof="submit" className={cx("", "")}>
            Отправлено
          </button>
        )}
        <div className="bg-black h-1 w-1/2 mx-auto"></div>
        <div className="my-8 text-center">Вы не зарегистрированы?</div>
        <Link
          href="/register"
          className="rounded-full border border-black w-1/2 py-4 block text-center mx-auto"
        >
          Регистрация
        </Link>
      </form>
    </div>
  );
}
